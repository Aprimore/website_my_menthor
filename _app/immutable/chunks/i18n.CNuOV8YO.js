import{r as $}from"./runtime.CSQbeCrW.js";import"./index.DGUXgY3r.js";import{s as I,b as m}from"./entry.BbKkY_OY.js";import{a4 as A}from"./scheduler.2tipIW4L.js";function W(e,t){return e===""?"":e.startsWith("/")?e:new URL(e,t).pathname}const V="$paraglide-sveltekit:context",L="__data.json",T=".html__data.json",ee="paraglide:lang";function h(e){return"/"+e.split("/").filter(Boolean).join("/")}const E=(...e)=>e.map(h).filter(t=>t!=="/").reduce((t,r)=>t+r,"")||"/";function y(e){try{return decodeURI(e)}catch{return e}}function v(e,t){e=y(e);const r=e.endsWith("/")&&e!=="/";e=h(e);const a=h(t.base),{availableLanguageTags:c,defaultLanguageTag:s}=t;let u=e.replace(a,"/");const i=u.endsWith(T)?T:u.endsWith(L)?L:void 0;i&&(u=u.replace(i,""));const[n,...l]=u.split("/").filter(Boolean);if(!n)return{base:a,lang:s,path:"/",dataSuffix:i,trailingSlash:r};const f=c.includes(n)?n:s,o=c.includes(n)?h(l.join("/")):h(u);return{base:a,lang:f,path:o,dataSuffix:i,trailingSlash:r}}function x(e){const t=[];t.push(e.base),e.includeLanguage&&(!(e.lang===e.defaultLanguageTag)||e.prefixDefaultLanguage==="always")&&t.push(e.lang),t.push(e.path),e.dataSuffix&&t.push(L);const r=E(...t);return e.trailingSlash&&!e.dataSuffix&&r!=="/"?r+"/":r}const B=()=>{const e=I;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},O={subscribe(e){return B().page.subscribe(e)}},R=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function k(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${D(e).map(a=>{const c=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(a);if(c)return t.push({name:c[1],matcher:c[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const s=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(a);if(s)return t.push({name:s[1],matcher:s[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!a)return;const u=a.split(/\[(.+?)\](?!\])/);return"/"+u.map((n,l)=>{if(l%2){if(n.startsWith("x+"))return p(String.fromCharCode(parseInt(n.slice(2),16)));if(n.startsWith("u+"))return p(String.fromCharCode(...n.slice(2).split("-").map(S=>parseInt(S,16))));const f=R.exec(n);if(!f)throw new Error(`Invalid param: ${n}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,o,g,d,j]=f;return t.push({name:d,matcher:j,optional:!!o,rest:!!g,chained:g?l===1&&u[0]==="":!1}),g?"(.*?)":o?"([^/]*)?":"([^/]+?)"}return p(n)}).join("")}).join("")}/?$`),params:t}}function F(e,t,r){const a={},c=e.slice(1),s=c.filter(i=>i!==void 0);let u=0;for(const[i,n]of t.entries()){let l=c[i-u];if(n.chained&&n.rest&&u&&(l=c.slice(i-u,i+1).filter(o=>o).join("/"),u=0),l===void 0){n.rest&&(a[n.name]="");continue}if(n.matcher&&!r[n.matcher])return;if((r[n.matcher]??(()=>!0))(l)){a[n.name]=l;const o=t[i+1],g=c[i+1];o&&!o.rest&&o.optional&&g&&n.chained&&(u=0),!o&&!g&&Object.keys(a).length===s.length&&(u=0);continue}if(n.optional&&n.chained){u++;continue}return}if(!u)return a}function p(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const z=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function _(e,t){return"/"+D(e).map(a=>a.replace(z,(c,s,u,i)=>{const n=t[i];if(!n){if(s||u&&n!==void 0)return"";throw new Error(`Missing parameter '${i}' in route ${e}`)}if(n.startsWith("/")||n.endsWith("/"))throw new Error(`Parameter '${i}' in route ${e} cannot start or end with a slash -- this would cause an invalid route like foo//bar`);return n})).filter(Boolean).join("/")}function w(e,t,r){let a;for(const c of t){const s=k(c),u=s.pattern.exec(C(e));if(!u)continue;const i=F(u,s.params,r);if(!i)continue;if(!a){a={params:i,route:s,id:c};continue}const n=Object.keys(a.route.params).length,l=Object.keys(s.params).length;if(!(n<l)){if(n>l){a={params:i,route:s,id:c};continue}n===l&&s.pattern.source.length<a.route.pattern.source.length&&(a={params:i,route:s,id:c})}}return a?{id:a.id,params:a.params}:void 0}function C(e){return e.endsWith("/")?e.slice(0,-1):e}function D(e){return e.slice(1).split("/")}function M(e,t,r,a){const c=w(e,Object.keys(r),a);if(!c)return e;const s=r[c.id];if(!s)return e;const u=s[t];return u?_(u,c.params):e}function P(e,t,r,a){for(const[c,s]of Object.entries(r)){if(!(t in s))continue;const u=s[t];if(!u)continue;const i=w(e,[u],a);if(i)return _(c,i.params)}return e}const N=({defaultLanguageTag:e,runtime:t,translations:r,matchers:a})=>({url:c})=>{try{const{lang:s,path:u,dataSuffix:i,trailingSlash:n}=v(c.pathname,{base:m,availableLanguageTags:t.availableLanguageTags,defaultLanguageTag:e}),l=P(u,s,r,a);return x({path:l,base:m,dataSuffix:i,trailingSlash:n,includeLanguage:!1})}catch{return c.pathname}};function U(e){const t=[];for(const r of e)typeof r=="string"?t.push(a=>a===r):t.push(a=>r.test(a));return r=>(r=h(r),t.some(a=>a(r)))}function G(e){try{const t=new Intl.Locale(e);return"textInfo"in t?t.textInfo.direction==="rtl"?"rtl":"ltr":t.getTextInfo().direction==="rtl"?"rtl":"ltr"}catch{return"ltr"}}function X(e){const t=e.map(r=>[r,G(r)]);return Object.fromEntries(t)}function H(e,t){const r={};for(const a in e){const c=e[a];if(c){if(typeof c=="object"){r[a]=e[a];continue}r[a]=K(c,t)}}return r}function K(e,t){const r=t.map(a=>[a,e({},{languageTag:a})]);return Object.fromEntries(r)}function Y(e,t){var u;const r=H((t==null?void 0:t.pathnames)??{},e.availableLanguageTags),a=(t==null?void 0:t.exclude)??[],c=(t==null?void 0:t.defaultLanguageTag)??e.sourceLanguageTag,s={runtime:e,translations:r,matchers:(t==null?void 0:t.matchers)??{},exclude:U(a),defaultLanguageTag:c,prefixDefaultLanguage:(t==null?void 0:t.prefixDefaultLanguage)??"never",textDirection:(t==null?void 0:t.textDirection)??X(e.availableLanguageTags),seo:{noAlternateLinks:((u=t==null?void 0:t.seo)==null?void 0:u.noAlternateLinks)??!1}};return Object.freeze(r),Object.freeze(s),{config:s,reroute:()=>N(s),handle:(i={})=>{throw new Error("")},getLanguageFromUrl(i){const l=i.pathname.slice(b(m).length).split("/").find(Boolean);return e.isAvailableLanguageTag(l)?l:c},resolveRoute(i,n=void 0){if(s.exclude(i))return i;const l=b(m),{trailingSlash:f,dataSuffix:o}=v(i,{base:l,availableLanguageTags:e.availableLanguageTags,defaultLanguageTag:e.sourceLanguageTag});if(n=n??e.languageTag(),!i.startsWith(l))return i;const g=i.slice(l.length),d=M(g,n,s.translations,s.matchers);return x({path:d,lang:n,base:l,dataSuffix:o,includeLanguage:!0,defaultLanguageTag:c,prefixDefaultLanguage:s.prefixDefaultLanguage,trailingSlash:f})},route(i){const n=b(m),{path:l,lang:f,trailingSlash:o,dataSuffix:g}=v(i,{base:n,availableLanguageTags:s.runtime.availableLanguageTags,defaultLanguageTag:s.defaultLanguageTag}),d=P(l,f,s.translations,s.matchers);return x({path:d,base:n,trailingSlash:o,dataSuffix:g,includeLanguage:!1})}}}function b(e){return e===""?"":e.startsWith("/")?e:W(e,new URL(A(O).url))}const te=Y($);export{ee as L,V as P,P as a,M as b,v as g,te as i,W as n,O as p,x as s};
